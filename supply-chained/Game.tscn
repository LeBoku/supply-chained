[gd_scene load_steps=20 format=2]

[ext_resource path="res://Game.gd" type="Script" id=1]
[ext_resource path="res://station/Station.tscn" type="PackedScene" id=2]
[ext_resource path="res://connection/ConnectionHelper.tscn" type="PackedScene" id=3]
[ext_resource path="res://Camera.gd" type="Script" id=4]
[ext_resource path="res://util/icons/fastest.png" type="Texture" id=6]
[ext_resource path="res://util/icons/faster.png" type="Texture" id=7]
[ext_resource path="res://production/Production.tscn" type="PackedScene" id=8]
[ext_resource path="res://util/icons/play.png" type="Texture" id=9]
[ext_resource path="res://util/icons/pause.png" type="Texture" id=10]
[ext_resource path="res://interface/GameControls.gd" type="Script" id=11]
[ext_resource path="res://carriers/Train.tscn" type="PackedScene" id=12]

[sub_resource type="InputEventKey" id=1]
scancode = 32

[sub_resource type="ShortCut" id=2]
shortcut = SubResource( 1 )

[sub_resource type="InputEventKey" id=3]
scancode = 49

[sub_resource type="ShortCut" id=4]
shortcut = SubResource( 3 )

[sub_resource type="InputEventKey" id=5]
scancode = 50

[sub_resource type="ShortCut" id=6]
shortcut = SubResource( 5 )

[sub_resource type="InputEventKey" id=7]
scancode = 51

[sub_resource type="ShortCut" id=8]
shortcut = SubResource( 7 )

[node name="Game" type="Node2D"]
script = ExtResource( 1 )
__meta__ = {
"_edit_lock_": true
}

[node name="Map" type="Node2D" parent="."]
__meta__ = {
"_edit_lock_": true
}

[node name="Continent" type="Polygon2D" parent="Map"]
position = Vector2( -61.4489, 43.438 )
z_index = -10
color = Color( 0.698039, 0.878431, 0.407843, 1 )
polygon = PoolVector2Array( 59.7825, -40.0342, 91.5664, 42.6039, 201.751, 24.593, 204.929, 72.2689, 251.545, 83.923, 282.27, 34.1282, 378, 64, 396, 34, 469.795, 47.9012, 440.13, 96.6365, 501.579, 91.3392, 576.8, 109.35, 678, 58, 639, 92, 661, 92, 672, 75, 695, 61, 690, 111, 559, 166, 607, 200, 553, 263, 434.832, 158.085, 445.427, 229.069, 409.405, 234.367, 356.432, 148.55, 344.778, 287.34, 433, 288, 430.595, 373.156, 504, 410, 556, 558, 403, 599, 110.637, 658.152, -46.1638, 462.151, -65.2341, 229.069 )
__meta__ = {
"_edit_lock_": true
}

[node name="Island 1" type="Polygon2D" parent="Map"]
position = Vector2( 583.764, 19.3806 )
z_index = -10
color = Color( 0.698039, 0.878431, 0.407843, 1 )
polygon = PoolVector2Array( 284.389, 197.286, 251.545, 83.923, 282.27, 34.1282, 378, 64, 396, 34, 469.795, 47.9012, 440.13, 96.6365, 501.579, 91.3392, 576.8, 109.35, 678, 58, 639, 92, 661, 92, 672, 75, 695, 61, 690, 111, 559, 166, 607, 200, 553, 263, 476.647, 234.074, 459.848, 237.434, 409.405, 234.367, 424.99, 277.332, 344.778, 287.34 )
__meta__ = {
"_edit_lock_": true
}

[node name="Island 2" type="Polygon2D" parent="Map"]
position = Vector2( 430.142, 290.293 )
z_index = -10
color = Color( 0.698039, 0.878431, 0.407843, 1 )
polygon = PoolVector2Array( 284.389, 197.286, 251.545, 83.923, 282.27, 34.1282, 378, 64, 373.384, 132.658, 440.13, 96.6365, 479.33, 53.1985, 678, 58, 639, 92, 520.649, 152.788, 607, 200, 553, 263, 478.27, 294.756, 392.454, 289.459, 409.405, 234.367, 372.324, 264.032, 344.778, 287.34 )
__meta__ = {
"_edit_lock_": true
}

[node name="Town" parent="Map" instance=ExtResource( 2 )]
position = Vector2( 137.96, 149.748 )
initial_storage = PoolStringArray( "labor", "labor", "labor", "", "", "" )

[node name="Labor" parent="Map/Town" instance=ExtResource( 8 )]
position = Vector2( 33.8885, 19.0909 )
requires = PoolStringArray( "labor-exhausted", "bread" )
produces = PoolStringArray( "labor" )

[node name="Forest" parent="Map" instance=ExtResource( 2 )]
position = Vector2( 121.185, 126.97 )
initial_storage = PoolStringArray( "", "", "", "", "", "" )

[node name="Gathering" parent="Map/Forest" instance=ExtResource( 8 )]
position = Vector2( -28.6437, 0.683695 )
requires = PoolStringArray( "labor-exhausted" )
produces = PoolStringArray( "labor" )
time = 30

[node name="Harbor" parent="Map" instance=ExtResource( 2 )]
position = Vector2( 189.874, 126.087 )
initial_storage = PoolStringArray( "", "", "", "", "", "" )

[node name="New Labor" parent="Map/Harbor" instance=ExtResource( 8 )]
position = Vector2( 20.6213, 17.8117 )
requires = PoolStringArray( "bread", "bread", "bread" )
produces = PoolStringArray( "labor" )
time = 30

[node name="Rail6" parent="Map" instance=ExtResource( 3 )]
points = PoolVector2Array( 121.055, 191.105, 108.731, 184.424, 109.176, 169.13 )

[node name="Mill" parent="Map" instance=ExtResource( 2 )]
position = Vector2( 110.002, 168.343 )

[node name="Mill" parent="Map/Mill" instance=ExtResource( 8 )]
position = Vector2( -20.534, 8.33464 )
requires = PoolStringArray( "labor", "wheat" )
produces = PoolStringArray( "bread", "labor-exhausted", "bread", "bread" )

[node name="Rail5" parent="Map" instance=ExtResource( 3 )]
points = PoolVector2Array( 121.838, 190.877, 137.2, 176.397, 137.553, 150.087 )

[node name="Rail8" parent="Map" instance=ExtResource( 3 )]
points = PoolVector2Array( 188.761, 126.602, 168.278, 149.204, 137.73, 149.381 )

[node name="Farm" parent="Map" instance=ExtResource( 2 )]
position = Vector2( 121.333, 191.667 )

[node name="Farm" parent="Map/Farm" instance=ExtResource( 8 )]
position = Vector2( -2.46592, 16.617 )
produces = PoolStringArray( "wheat", "labor-exhausted" )

[node name="Rail7" parent="Map" instance=ExtResource( 3 )]
points = PoolVector2Array( 109.621, 168.239, 127.588, 167.942, 135.606, 151.609 )

[node name="Train1" parent="." instance=ExtResource( 12 )]
stored_cargo = [ null, null, null ]

[node name="Train2" parent="." instance=ExtResource( 12 )]
stored_cargo = [ null, null, null, null, null ]

[node name="Camera" type="Camera2D" parent="."]
position = Vector2( 136, 172 )
current = true
zoom = Vector2( 0.2, 0.2 )
limit_left = -500
limit_top = -100
limit_right = 1500
limit_bottom = 1000
limit_smoothed = true
script = ExtResource( 4 )

[node name="HUD" type="CanvasLayer" parent="."]

[node name="CarriersHud" type="VBoxContainer" parent="HUD"]
margin_left = 5.0
margin_top = 5.0
margin_right = 5.0
margin_bottom = 5.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="GameSpeedControls" type="HBoxContainer" parent="HUD"]
margin_left = 850.119
margin_top = 1.16511
margin_right = 1022.12
margin_bottom = 41.1651
grow_horizontal = 0
alignment = 2
script = ExtResource( 11 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Stop" type="Button" parent="HUD/GameSpeedControls"]
margin_right = 40.0
margin_bottom = 40.0
rect_min_size = Vector2( 40, 40 )
hint_tooltip = "Pause"
shortcut = SubResource( 2 )
icon = ExtResource( 10 )
flat = true
clip_text = true
expand_icon = true

[node name="Normal" type="Button" parent="HUD/GameSpeedControls"]
margin_left = 44.0
margin_right = 84.0
margin_bottom = 40.0
rect_min_size = Vector2( 40, 40 )
hint_tooltip = "Normal Speed"
disabled = true
shortcut = SubResource( 4 )
icon = ExtResource( 9 )
flat = true
clip_text = true
expand_icon = true

[node name="Faster" type="Button" parent="HUD/GameSpeedControls"]
margin_left = 88.0
margin_right = 128.0
margin_bottom = 40.0
rect_min_size = Vector2( 40, 40 )
hint_tooltip = "Faster Speed"
shortcut = SubResource( 6 )
icon = ExtResource( 7 )
flat = true
clip_text = true
expand_icon = true

[node name="Fastest" type="Button" parent="HUD/GameSpeedControls"]
margin_left = 132.0
margin_right = 172.0
margin_bottom = 40.0
rect_min_size = Vector2( 40, 40 )
hint_tooltip = "Fastest Speed"
shortcut = SubResource( 8 )
icon = ExtResource( 6 )
flat = true
clip_text = true
expand_icon = true

[connection signal="pressed" from="HUD/GameSpeedControls/Stop" to="HUD/GameSpeedControls" method="_on_Stop_pressed"]
[connection signal="pressed" from="HUD/GameSpeedControls/Normal" to="HUD/GameSpeedControls" method="_on_Normal_pressed"]
[connection signal="pressed" from="HUD/GameSpeedControls/Faster" to="HUD/GameSpeedControls" method="_on_Faster_pressed"]
[connection signal="pressed" from="HUD/GameSpeedControls/Fastest" to="HUD/GameSpeedControls" method="_on_Fastest_pressed"]
